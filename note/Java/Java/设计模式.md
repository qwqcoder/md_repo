# 单例模式

## 饿汉式

==线程安全==

```java
public class EagerSingleton {
    // 定义一个静态属性,加载类时就直接初始化
    private static final EagerSingleton instance = new EagerSingleton();
    
    // 为了避免其他人随意创建,需要私有化构造器
    private EagerSingleton(){}
    
    // 暴露一个用于获取单例的方法
    public static EagerSingleton getInstance(){
        return instance;
    }
}
```

## 懒汉式

==线程不安全==

```java
public class LazySingleton {
    // 定义一个静态属性,加载类时就直接初始化
    private static final EagerSingleton instance;
    
    // 为了避免其他人随意创建,需要私有化构造器
    private EagerSingleton(){}
    
    // 暴露一个用于获取单例的方法
    public static EagerSingleton getInstance(){
        if(null == instance){
            instance = new LazySingleton();
        }
        return instance;
    }
}
```

# 双检查单例

==线程安全==

```java
public class DclSingleton {
    // 定义一个静态属性,加载类时就直接初始化
    // volatile 两个作用 1.保证内存可见性 2.保证有序性
    private static volatile DclSingleton instance;
    
    // 为了避免其他人随意创建,需要私有化构造器
    private DclSingleton(){}
    
    // 暴露一个用于获取单例的方法
    public static DclSingleton getInstance(){
        if(null == instance){
            synchronized(DclSingleton.class){
                if(null == instance){
		            instance = new LazySingleton();                
                }
            }
        }
        return instance;
    }
}
```

